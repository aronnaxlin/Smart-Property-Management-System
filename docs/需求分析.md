以下是为您整理的标准 Markdown 格式文档：

# 《面向对象与数据库课程设计》需求分析和概要设计

**日期:** 2026年1月

---

## 1. 需求分析设计

本系统旨在通过 Java 技术栈构建一个现代化的“智慧物业管理系统”。系统不仅涵盖基础的档案与费用管理，还通过数据可视化提供决策支持，并通过集成式 AI 助手提升人机交互体验。

### 1.1. 基础管理模块

* **业主档案管理**：实现小区住户基本信息的录入、修改、查询与删除（CRUD）操作。
* **多维信息检索**：支持根据业主姓名、房号、手机号等多种条件进行组合查询，确保管理人员能快速定位用户信息。
* **房产资源维护**：管理小区内的楼栋、单元及具体房屋状态（已售/待售/出租）。

### 1.2. 费用管理模块

* **费用收缴与记录**：支持物业费、取暖费等费用的单笔或批量计费，并记录每一笔收支流水。
* **欠费分析与查询**：系统能够自动筛选逾期未缴纳费用的用户，并支持生成催缴名单。
* **业务逻辑硬拦截**：系统根据数据库状态判断，对于欠缴物业费或取暖费的用户，其水电卡购买功能将自动锁定，直至清偿欠款。

### 1.3. 智慧生活服务模块

* **水电卡自助管理**：模拟水电卡充值流程。当且仅当用户无欠缴费用时，允许进行金额购买与余额更新。
* **Java-通义千问 AI 助手**：
* **智能问答**：基于 Java 调用大模型 API，业主可咨询物业政策、报修流程。
* **业务指引**：AI 可根据后台数据，通过对话引导用户完成缴费，如“检测到您取暖费已到期，是否现在跳转缴费？”



### 1.4. 可视化决策大屏

* **财务概况看板**：通过 JavaFX 图表库（BarChart, PieChart）动态展示年度收费率、收入占比等核心指标。
* **实时告警系统**：可视化展示欠费比例最高的楼栋，帮助管理人员制定针对性的物业工作计划。

---

## 2. 系统设计

### 2.1. 系统总体架构设计

根据本项目要实现的功能，系统总体架构如下图所示。

<center>图 2-1 系统总体架构设计图</center>

### 2.2. 项目分层设计及主要类图设计

本系统采用 MVC 模式进行架构设计，结合分层体系结构将界面展示、业务逻辑处理与数据持久化进行解耦。这种架构不仅符合软件工程规范，更便于后续集成 AI 接口与数据可视化模块。

<center>图 2-2 项目分层设计</center>

实体类 UML 类图如下：

<center>图 2-3 实体UML类图</center>

核心业务逻辑 UML 类图如下图所示：

<center>图 2-4 核心业务逻辑UML类图</center>

### 2.3. 数据库实体设计（E-R图）

本项目采用的数据库结构如下图所示。

<center>图 2-5 数据库E-R图</center>

### 2.4. 数据字典

数据库各表的详细信息如以下数据字典所示。

**表 2-1 用户表数据字典**

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| --- | --- | --- | --- | --- |
| user_id | VARCHAR | 20 | PK | 用户唯一标识 |
| user_name | VARCHAR | 20 |  | 用户名 |
| password | VARCHAR | 50 | NOT NULL | 登录密码 |
| user_type | VARCHAR | 10 | NOT NULL | 用户身份（管理员/普通用户） |

**表 2-2 业主表数据字典**

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| --- | --- | --- | --- | --- |
| owner_id | VARCHAR | 20 | PK | 业主档案编号 |
| name | VARCHAR | 50 | NOT NULL | 业主姓名 |
| gender | INT |  |  | 0-男，1-女，2-其他 |
| phone | VARCHAR | 11 | UNIQUE | 联系电话 |

**表 2-3 房产表数据字典**

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| --- | --- | --- | --- | --- |
| p_id | VARCHAR | 20 | PK | 房屋唯一编号 |
| building_no | INT | - | NOT NULL | 楼栋号 |
| unit_no | INT | - | - | 单元号 |
| room_no | VARCHAR | 10 | NOT NULL | 房号 |
| area | DECIMAL | 10,2 | NOT NULL | 建筑面积 |
| p_status | VARCHAR | 10 | - | 房屋状态（已售/待售/出租） |
| owner_id | VARCHAR | 20 | FK | 关联业主编号 |

**表 2-4 账单表数据字典**

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| --- | --- | --- | --- | --- |
| f_id | INT | - | PK | 账单流水流水号 |
| p_id | VARCHAR | 20 | FK | 关联房屋编号 |
| fee_type | VARCHAR | 20 | NOT NULL | 费用类型（物业费/取暖费等） |
| amount | DECIMAL | 10,2 | NOT NULL | 应缴金额 |
| is_paid | TINYINT | 1 | DEFAULT 0 | 支付状态（0-未缴, 1-已缴） |
| pay_date | DATETIME | - | - | 账单日期 |

**表 2-5 水电卡表数据字典**

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| --- | --- | --- | --- | --- |
| card_id | VARCHAR | 20 | PK | 卡号 |
| p_id | VARCHAR | 20 | FK | 关联房屋编号 |
| card_type | VARCHAR | 10 | NOT NULL | 类型（水卡/电卡） |
| balance | DECIMAL | 10,2 | DEFAULT 0 | 卡内余额 |
| last_topup | DATETIME | - | - | 最后充值时间 |